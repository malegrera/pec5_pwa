<div class="spinner" *ngIf="loading">
  <mat-progress-spinner
    class="example-margin"
    color="primary"
    mode="indeterminate"
  >
  </mat-progress-spinner>
</div>

<div class="container">
  <h1>Images</h1>
  <mat-button-toggle-group #vista="matButtonToggleGroup" aria-label="Vista" value="tabla">
    <mat-button-toggle value="tabla"> <mat-icon>list</mat-icon></mat-button-toggle>
    <mat-button-toggle value="cards"><mat-icon>apps</mat-icon></mat-button-toggle>
  </mat-button-toggle-group>

  <div *ngIf="vista.value=='tabla'">
    <table mat-table [dataSource]="images" class="mat-elevation-z8">
      <ng-container matColumnDef="imageId">
        <th *matHeaderCellDef>Image Id</th>
        <td *matCellDef="let image">
          <a [routerLink]="['/detail', image.id]">{{ image.id }}</a>
        </td>
      </ng-container>

      <ng-container matColumnDef="author">
        <th *matHeaderCellDef>Author</th>
        <td class="description-cell" *matCellDef="let image">
          <a [routerLink]="['/detail', image.id]"> {{ image.author }} </a>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  <div *ngIf="vista.value=='cards'">
    <mat-card class="card mat-elevation-z4" *ngFor="let image of images">
        <mat-card-content class="content">
            <div class="matcontent">
                <img src="{{ image.download_url }}" alt="foto de ejemplo" style="width: 2vw;" />
                <p>ImageId: {{ image.id }}</p>
                <p>Author: {{ image.author }}</p>
              </div>
        </mat-card-content>
    </mat-card>       

  </div>
</div>
